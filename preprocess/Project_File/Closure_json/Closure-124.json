{"id":1017,"status":"Fixed","summary":"Different output from RestAPI and command line jar","labels":["Type-Defect","Priority-Medium"],"stars":0,"commentCount":3,"comments":[{"id":0,"commenterId":8159951922242981347,"content":"When I compile using the jar file from the command line I get a result that is not correct. However, when I test it via the REST API or the Web UI I get a correct output. I\u0027ve attached a file with the code that we are compiling.\r\n\r\n\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n1. Compile the attached file with \u0026quot;java -jar compiler.jar --js test.js\u0026quot;\r\n2. Compile the content of the attached file on http://closure-compiler.appspot.com/home\r\n3. Compare the output, note how the following part is converted in the two cases:\r\n\r\n\u0026quot;var foreignObject \u003d gfx.parentNode.parentNode;\r\nvar parentContainer \u003d foreignObject.parentNode.parentNode;\u0026quot;\r\n\r\n\u003cb\u003eWhat is the expected output? What do you see instead?\u003c/b\u003e\nThe Web UI converts the lines into: if(b){if(a\u003db.parentNode.parentNode,b\u003da.parentNode.parentNode,null!\u003d\u003db)\r\nThe command line converts it into: var b\u003da\u003da.parentNode.parentNode;\r\nThe Web UI results in correct code, the other results in code that tries to do \u0026quot;c.appendChild(b)\u0026quot; with c \u003d b (c\u003da\u003da.parentNode.parentNode)\r\n\r\n\u003cb\u003eWhat version of the product are you using? On what operating system?\u003c/b\u003e\ncompiler.jar: v20130411-90-g4e19b4e\r\nMac OSX 10.8.3\r\nJava: java 1.6.0_45\r\n\r\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e\nWe are also using the compiler form within our java code, with the same result.\r\nWeb UI was called with:\r\n// \u003d\u003dClosureCompiler\u003d\u003d\r\n// @compilation_level SIMPLE_OPTIMIZATIONS\r\n// @output_file_name default.js\r\n// \u003d\u003d/ClosureCompiler\u003d\u003d","timestamp":1370445651,"attachments":[{"id":10170000000,"fileName":"test.js","fileSize":438}]},{"id":1,"commenterId":-8769171937076622550,"content":"Thanks for the report!","timestamp":1370458459,"attachments":[]},{"id":2,"commenterId":-8769171937076622550,"content":"This issue was closed by revision e7f4269d0289.","timestamp":1370475956,"attachments":[]}]}