{"id":548,"status":"Fixed","summary":"Type aliases cannot be used in type annotations before their definitions","labels":["Type-Defect","Priority-Medium"],"stars":0,"commentCount":3,"comments":[{"id":0,"commenterId":5969771180739880152,"content":"\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n1. Compile the following with full warnings:\r\n\r\ngoog.provide(\u0027foo.Foo\u0027);\r\ngoog.provide(\u0027foo.Foo.Bar\u0027);\r\n\r\ngoog.scope(function() {\r\n  /**\r\n   * @param {Foo.Bar} bar\r\n   * @constructor\r\n   */\r\n  foo.Foo \u003d function(bar) {\r\n    this.bar \u003d bar;\r\n  };\r\n  var Foo \u003d foo.Foo;\r\n\r\n  /** @type {Foo.Bar} */\r\n  Foo.prototype.bar \u003d null;\r\n\r\n  /** @constructor */\r\n  Foo.Bar \u003d function() {};\r\n});\r\n\r\n\r\n\u003cb\u003eWhat is the expected output? What do you see instead?\u003c/b\u003e\nThis should work, but instead I get an error:\r\n\r\nERROR - Bad type annotation. Unknown type Foo.Bar\r\n   * @param {Foo.Bar} bar\r\n                    ^\r\n\r\nThis can be worked around by writing explicitly foo.Foo.Bar, but this leads to strange inconsistencies in the code before vs. after the alias definition.\r\n\r\n\r\n\u003cb\u003eWhat version of the product are you using? On what operating system?\u003c/b\u003e\nr1346 in Linux\r\n\r\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e\n","timestamp":1315005397,"attachments":[]},{"id":1,"commenterId":-7699928860083865744,"content":"","timestamp":1315343146,"attachments":[]},{"id":2,"commenterId":-7699928860083865744,"content":"This issue was closed by revision r1412.","timestamp":1315362057,"attachments":[]}]}