{"id":768,"status":"Fixed","summary":"Dependency sorting with closurePass set to false no longer works.","labels":["Type-Defect","Priority-Medium"],"stars":0,"commentCount":4,"comments":[{"id":0,"commenterId":3979207862653524255,"content":"\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n\r\n1. Instantiate new instance of Compiler\r\n\r\n2. Set closurePass to false to prevent goog.require/goog.provide removal.\r\ncompilerOptions.setClosurePass(false);\r\n\r\n3. Turn dependency sorting on.\r\nDependencyOptions dependencyOptions \u003d new DependencyOptions();\r\ndependencyOptions.setDependencySorting(true);\r\n\r\n4. Compile js code\r\n\r\n\r\nWhat is the expected output? \r\nDependent files should be sorted and concatenated in their dependent order.\r\n\r\nWhat do you see instead?\r\nDependent files are not sorted.\r\n\r\n\u003cb\u003eWhat version of the product are you using? On what operating system?\u003c/b\u003e\n\u0026gt; r1824\r\nmac OS 10.7\r\n\r\n\r\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e\nThis worked in the r1810 release. However, it looks like this was changed in r1824. The compiler now expects closurePass to be true for dependency sorting to work.\r\nhttp://code.google.com/p/closure-compiler/source/detail?path\u003d/trunk/src/com/google/javascript/jscomp/Compiler.java\u0026amp;r\u003d1824\r\n\r\nWhat we are looking for is a way to sort dependencies and concatenate all files in their dependent order without removing the goog.require/goog.provide js calls. Turning closurePass to true causes the goog calls to be replaced. We use this methodology in local development to test our JS code.\r\n\r\nThanks!\r\n","timestamp":1341019213,"attachments":[]},{"id":1,"commenterId":-7699928860083865744,"content":"seems reasonable to me.","timestamp":1341276591,"attachments":[]},{"id":2,"commenterId":-7699928860083865744,"content":"This issue was closed by revision r2073.","timestamp":1341412771,"attachments":[]},{"id":3,"commenterId":3979207862653524255,"content":"Awesome! Thanks a bunch Nick!","timestamp":1341905152,"attachments":[]}]}